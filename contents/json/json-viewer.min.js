var JSONViewer=function(e){function t(){this._dom_container=e.createElement("pre"),this._dom_container.classList.add("json-viewer")}function n(t,r,o,c,p){var h=s.call(r)===d,u=!h&&"object"==typeof r&&null!==r&&"toJSON"in r?r.toJSON():r;if("object"!=typeof u||null===u||h)t.appendChild(a(r,h));else{var f=o>=0&&p>=o,g=c>=0&&p>=c,v=Array.isArray(u),m=v?u:Object.keys(u);if(0===p){var y=i(m.length),L=l(v?"[":"{");m.length?(L.addEventListener("click",function(){f||(L.classList.toggle("collapsed"),y.classList.toggle("hide"),t.querySelector("ul").classList.toggle("hide"))}),g&&(L.classList.add("collapsed"),y.classList.remove("hide"))):L.classList.add("empty"),L.appendChild(y),t.appendChild(L)}if(m.length&&!f){var C=m.length-1,N=e.createElement("ul");N.setAttribute("data-level",p),N.classList.add("type-"+(v?"array":"object")),m.forEach(function(t,s){var d=v?t:r[t],h=e.createElement("li");if("object"==typeof d)if(!d||d instanceof Date)h.appendChild(e.createTextNode(v?"":t+": ")),h.appendChild(a(d||null,!0));else{var u=Array.isArray(d),f=u?d.length:Object.keys(d).length;if(f){var g=("string"==typeof t?t+": ":"")+(u?"[":"{"),m=l(g),y=i(f);o>=0&&p+1>=o?h.appendChild(e.createTextNode(g)):(m.appendChild(y),h.appendChild(m)),n(h,d,o,c,p+1),h.appendChild(e.createTextNode(u?"]":"}"));var L=h.querySelector("ul"),T=function(){m.classList.toggle("collapsed"),y.classList.toggle("hide"),L.classList.toggle("hide")};m.addEventListener("click",T),c>=0&&p+1>=c&&T()}else h.appendChild(e.createTextNode(t+": "+(u?"[]":"{}")))}else v||h.appendChild(e.createTextNode(t+": ")),n(h,d,o,c,p+1);s<C&&h.appendChild(e.createTextNode(",")),N.appendChild(h)},this),t.appendChild(N)}else if(m.length&&f){var T=i(m.length);T.classList.remove("hide"),t.appendChild(T)}if(0===p){if(!m.length){T=i(0);T.classList.remove("hide"),t.appendChild(T)}t.appendChild(e.createTextNode(v?"]":"}")),g&&t.querySelector("ul").classList.add("hide")}}}function a(t,n){var a=e.createElement("span"),i=typeof t,l=""+t;return"string"===i?l='"'+t+'"':null===t?i="null":n&&(i="date",l=t.toLocaleString()),a.className="type-"+i,a.textContent=l,a}function i(t){var n=e.createElement("span");return n.className="items-ph hide",n.innerHTML=r(t),n}function l(t){var n=e.createElement("a");return n.classList.add("list-link"),n.href="javascript:void(0)",n.innerHTML=t||"",n}function r(e){var t=e>1||0===e?"items":"item";return e+" "+t}var s={}.toString,d=s.call(new Date);return t.prototype.showJSON=function(e,t,a){var i="number"==typeof t?t:-1,l="number"==typeof a?a:-1;this._dom_container.innerHTML="",n(this._dom_container,e,i,l,0)},t.prototype.getContainer=function(){return this._dom_container},t}(document);